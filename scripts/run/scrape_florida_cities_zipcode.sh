#!/bin/bash
# Scrape top 25 Florida cities by zipcode (ALL CONCURRENT)

scrape_city() {
    local name="$1"
    local output="$2"
    shift 2
    echo "[START] $name"
    python3 scripts/scrapers/zipcode.py --zipcodes $@ -o "$output" 2>&1 | tail -3
    echo "[DONE] $name"
}

echo "Starting ALL cities concurrently..."

scrape_city "Miami" "scraper_output/florida/miami.csv" 33101 33102 33107 33109 33110 33111 33112 33114 33116 33119 33121 33122 33124 33125 33126 33127 33128 33129 33130 33131 33132 33133 33134 33135 33136 33137 33138 33139 33140 33141 33142 33143 33144 33145 33146 33147 33148 33150 33151 33152 33153 33154 33155 33156 33157 33158 33159 33160 33161 33162 33163 33164 33165 33166 33167 33168 33169 33170 33172 33173 33174 33175 33176 33177 33178 33179 33180 33181 33182 33183 33184 33185 33186 33187 33188 33189 33190 33192 33193 33194 33195 33196 33197 33199 33222 33231 33233 33234 33238 33239 33242 33243 33245 33247 33255 33256 33257 33261 33265 33266 33269 33280 33283 33296 33299 &

scrape_city "Fort Lauderdale" "scraper_output/florida/fort_lauderdale.csv" 33301 33302 33303 33304 33305 33306 33307 33308 33309 33310 33311 33312 33313 33314 33315 33316 33317 33318 33319 33320 33321 33322 33323 33324 33325 33326 33327 33328 33329 33330 33331 33332 33334 33335 33336 33337 33338 33339 33340 33345 33346 33348 33349 33351 33355 33359 33388 33394 &

scrape_city "Miami Beach" "scraper_output/florida/miami_beach.csv" 33109 33119 33139 33140 33141 33160 33239 &

scrape_city "Pompano Beach" "scraper_output/florida/pompano_beach.csv" 33060 33061 33062 33063 33064 33065 33066 33067 33068 33069 33071 33072 33073 33074 33075 33076 33077 33093 33097 &

scrape_city "Orlando" "scraper_output/florida/orlando.csv" 32801 32802 32803 32804 32805 32806 32807 32808 32809 32810 32811 32812 32813 32814 32815 32816 32817 32818 32819 32820 32821 32822 32824 32825 32826 32827 32828 32829 32830 32831 32832 32833 32834 32835 32836 32837 32839 32853 32854 32855 32856 32857 32858 32859 32860 32861 32862 32867 32868 32869 32872 32877 32878 32885 32886 32887 32889 32890 32891 32893 32896 32897 32898 32899 &

scrape_city "Bradenton" "scraper_output/florida/bradenton.csv" 34201 34202 34203 34204 34205 34206 34207 34208 34209 34210 34211 34212 34217 34280 34281 34282 &

scrape_city "West Palm Beach" "scraper_output/florida/west_palm_beach.csv" 33401 33402 33403 33404 33405 33406 33407 33409 33410 33411 33412 33413 33414 33415 33416 33417 33418 33419 33420 33421 33422 &

scrape_city "Clearwater" "scraper_output/florida/clearwater.csv" 33755 33756 33757 33758 33759 33760 33761 33762 33763 33764 33765 33766 33767 33769 34615 34616 34617 34618 34619 34620 34621 34622 34623 34624 34625 34629 34630 &

scrape_city "Marco Island" "scraper_output/florida/marco_island.csv" 33937 33969 34145 34146 &

scrape_city "Fort Myers" "scraper_output/florida/fort_myers.csv" 33900 33901 33902 33903 33905 33906 33907 33908 33911 33912 33913 33916 33917 33918 33919 33931 33932 33965 33966 33967 33994 &

scrape_city "Fort Myers Beach" "scraper_output/florida/fort_myers_beach.csv" 33931 33932 &

scrape_city "Naples" "scraper_output/florida/naples.csv" 33939 33940 33941 33942 33961 33962 33963 33964 33999 34101 34102 34103 34104 34105 34106 34108 34109 34110 34112 34113 34114 34116 34117 34119 34120 &

scrape_city "Destin" "scraper_output/florida/destin.csv" 32540 32541 &

scrape_city "Cape Coral" "scraper_output/florida/cape_coral.csv" 33904 33909 33910 33914 33915 33990 33991 33993 &

scrape_city "Fort Walton Beach" "scraper_output/florida/fort_walton_beach.csv" 32547 32548 32549 &

scrape_city "Panama City Beach" "scraper_output/florida/panama_city_beach.csv" 32407 32413 &

scrape_city "Key West" "scraper_output/florida/key_west.csv" 33040 33041 33045 &

scrape_city "Pensacola" "scraper_output/florida/pensacola.csv" 32501 32502 32503 32504 32505 32506 32507 32508 32509 32511 32512 32513 32514 32516 32520 32521 32522 32523 32524 32526 32534 32559 32573 32574 32575 32576 32581 32582 32589 32590 32591 32592 32593 32594 32595 32596 32597 32598 &

scrape_city "Tampa" "scraper_output/florida/tampa.csv" 33601 33602 33603 33604 33605 33606 33607 33608 33609 33610 33611 33612 33613 33614 33615 33616 33617 33618 33619 33620 33621 33622 33623 33624 33625 33626 33629 33630 33631 33633 33634 33635 33637 33646 33647 33650 33651 33655 33660 33661 33662 33663 33664 33672 33673 33674 33675 33677 33679 33680 33681 33682 33684 33685 33686 33687 33688 33689 33690 33694 33695 33697 &

scrape_city "Sarasota" "scraper_output/florida/sarasota.csv" 34230 34231 34232 34233 34234 34235 34236 34237 34238 34239 34240 34241 34242 34243 34276 34277 34278 &

scrape_city "Jacksonville" "scraper_output/florida/jacksonville.csv" 32099 32201 32202 32203 32204 32205 32206 32207 32208 32209 32210 32211 32212 32214 32215 32216 32217 32218 32219 32220 32221 32222 32223 32224 32225 32226 32227 32228 32229 32230 32231 32232 32234 32235 32236 32237 32238 32239 32240 32241 32244 32245 32246 32247 32250 32254 32255 32256 32257 32258 32259 32260 32267 32277 32290 32294 32296 32297 &

scrape_city "Clearwater Beach" "scraper_output/florida/clearwater_beach.csv" 33767 &

wait
echo "All done!"
